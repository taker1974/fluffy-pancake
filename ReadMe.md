# Продолжение знакомства с SQL

### Замечания от проверяющего

Роман Цаголов 29.01.25 21:44

...

Есть и незначительные минусы, которые в текущей работе, наверно, уже не имеет смысла править. 
В основном они касаются проверки данных в тестовой БД. 

Допустим у нас тестируется метод вставки, проверяются возвращаемые данные метода.<br> 
Но фактически то что записалось в тестовую БД, а в дальнейшем и реальную, не проверяется.<br> 
Поэтому тут можно либо вызывать напрямую метод репозитория, либо сервисный метод,
который получает данные из БД.

И делать дополнительную проверку по количеству записей и их ожидаемым значениям.<br> 
Это позволит нам более точно протестировать работу приложения на уровне хранения данных. 
Аналогично и для методов удаления, изменения данных. 
Допустим изменение данных не должно приводить к появлению новых записей, 
что иногда может случиться при неправильной конфигурации. 
А в случае с удалением нужно проверить фактическое удаление данных.

### Критерии оценки (очевидное вычеркнуто)

В классе AvatarController создан эндпойнт с двумя целочисленными параметрами, возвращающий список аватарок.

В классе StudentController реализован эндпойнт, возвращающий количество студентов в виде целого числа.

В классе StudentController реализован эндпойнт, возвращающий средний возраст студентов в виде числа.

В классе StudentController реализован эндпойнт, возвращающий коллекцию студентов.

Корректно реализован SQL-запрос для получения количества учеников.

Корректно реализован SQL-запрос для получения среднего возраста учеников.

В репозитории использована аннотация @Query.

Для получения аватарок корректно использована пагинация.

---

При выполнении цикла CRUD-операций (POST, GET, PUT, DELETE) не возвращается статус ответа 200.
Коды HTTP-ответов соответствуют их семантике.

Параметры для фильтрации переданы через @RequestParam.

Фильтрация данных происходит на стороне БД.

Соблюдена конвенциональная структура класса: поля, конструкторы и методы.
Использовано автоматическое форматирование кода.
Отсутствуют лишние блоки и переменные.
В репозитории нет лишних файлов.

Переданная ссылка — это pull request.

Нет двойной вложенности.

Отсутствуют методы, чья логика может вернуть null.

Метод POST возвращает id созданной сущности.
Метод PUT возвращает обновленное состояние сущности.
Метод DELETE возвращает void.

Контроллеры реализованы без использования класса ResponseEntity (кроме выгрузки файлов).